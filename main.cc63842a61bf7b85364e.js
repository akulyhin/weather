(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(n,e,t){"use strict";t.r(e);t("RtS0"),t("3dw1"),t("yjly"),t("JBxO"),t("FdtR"),t("wcNg");var r={searchCity:document.getElementById("searchCity"),weatherBox:document.querySelector(".weather-box"),searchBtn:document.querySelector(".searchBtn")};function a(n,e,t,r,a,o,i){try{var l=n[o](i),c=l.value}catch(n){return void t(n)}l.done?e(c):Promise.resolve(c).then(r,a)}function o(n){return function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function l(n){a(i,r,o,l,c,"next",n)}function c(n){a(i,r,o,l,c,"throw",n)}l(void 0)}))}}var i={query:""+localStorage.getItem("city"),apiKey:"ff8084d11c7279450a985d59a31a6700",geoLocation:function(){navigator.geolocation.getCurrentPosition((function(n){var e=n.coords.latitude,t=n.coords.longitude;localStorage.setItem("latitude",e),localStorage.setItem("longitude",t)}))},fetchWeatherByCity:function(){var n=this;return o(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.openweathermap.org/data/2.5/weather?q="+n.query+"&units=metric&lang=ru&appid="+n.apiKey,e.next=3,fetch(t);case 3:return r=e.sent,e.abrupt("return",r.json());case 5:case"end":return e.stop()}}),e)})))()},fetchWeather:function(){var n=this;return o(regeneratorRuntime.mark((function e(){var t,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("latitude"),r=localStorage.getItem("longitude"),a="https://api.openweathermap.org/data/2.5/weather?lat="+t+"&lon="+r+"&units=metric&lang=ru&appid="+n.apiKey,e.next=5,fetch(a);case 5:return o=e.sent,e.abrupt("return",o.json());case 7:case"end":return e.stop()}}),e)})))()}},l=(t("jffb"),t("TcGF")),c=t.n(l);function s(n){r.weatherBox.innerHTML=""+c()(n);var e=document.querySelectorAll(".js_temp");console.log(e),e.forEach((function(n){var e;e=n.textContent,Math.round(+e)}))}i.geoLocation(),r.searchBtn.addEventListener("click",(function(){localStorage.removeItem("city"),localStorage.setItem("city",r.searchCity.value),location.href=location.href})),localStorage.getItem("city")?i.fetchWeatherByCity().then((function(n){console.log(n),s({data:n})})):localStorage.getItem("latitude")?i.fetchWeather().then((function(n){console.log(n),s({data:n})})):console.log("Нет города")},TcGF:function(n,e,t){var r=t("mp5j");n.exports=(r.default||r).template({1:function(n,e,t,r,a){var o,i,l=null!=e?e:n.nullContext||{},c=n.escapeExpression,s=n.lambda,u=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<h2 class="weather-city">'+c("function"==typeof(i=null!=(i=u(t,"name")||(null!=e?u(e,"name"):e))?i:n.hooks.helperMissing)?i.call(l,{name:"name",hash:{},data:a,loc:{start:{line:2,column:25},end:{line:2,column:33}}}):i)+'</h2>\r\n\r\n<div class="weather_item">\r\n<p><span class="current-temp"><span class="js_temp">'+c(s(null!=(o=null!=e?u(e,"main"):e)?u(o,"temp"):o,e))+"</span>°</span></p>\r\n"+(null!=(o=u(t,"each").call(l,null!=e?u(e,"weather"):e,{name:"each",hash:{},fn:n.program(2,a,0),inverse:n.noop,data:a,loc:{start:{line:6,column:0},end:{line:9,column:9}}}))?o:"")+'</div>\r\n\r\n<div class="info_additional">\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            По ощущению: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(s(null!=(o=null!=e?u(e,"main"):e)?u(o,"feels_like"):o,e))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            Мин. температура: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(s(null!=(o=null!=e?u(e,"main"):e)?u(o,"temp_min"):o,e))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            Макс. температура: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(s(null!=(o=null!=e?u(e,"main"):e)?u(o,"temp_max"):o,e))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n        <div class="info_item">\r\n        <div class="ii info_label">\r\n            Ветер: \r\n        </div>\r\n        <div class="ii info_value">\r\n            '+c(s(null!=(o=null!=e?u(e,"wind"):e)?u(o,"speed"):o,e))+" м/с\r\n        </div>\r\n    </div>\r\n</div>\r\n"},2:function(n,e,t,r,a){var o,i=n.escapeExpression,l=n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]};return'<p><img src="https://openweathermap.org/img/w/'+i("function"==typeof(o=null!=(o=l(t,"icon")||(null!=e?l(e,"icon"):e))?o:n.hooks.helperMissing)?o.call(null!=e?e:n.nullContext||{},{name:"icon",hash:{},data:a,loc:{start:{line:7,column:46},end:{line:7,column:54}}}):o)+'.png" width="65" height="auto"></p>\r\n<p class="description">'+i(n.lambda(null!=e?l(e,"description"):e,e))+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(n,e,t,r,a){var o;return null!=(o=(n.lookupProperty||function(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]})(t,"each").call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,a,0),inverse:n.noop,data:a,loc:{start:{line:1,column:0},end:{line:50,column:9}}}))?o:""},useData:!0})},yjly:function(n,e,t){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.cc63842a61bf7b85364e.js.map