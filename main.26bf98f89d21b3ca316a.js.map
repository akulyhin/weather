{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./templates/templateCurrentWeather.hbs"],"names":["searchCity","document","getElementById","weatherBox","querySelector","searchBtn","query","localStorage","getItem","apiKey","geoLocation","navigator","geolocation","getCurrentPosition","location","console","log","coords","latitude","longitude","fetchWeather","url","fetch","response","json","refs","addEventListener","removeItem","setItem","value","href","apiService","then","data","innerHTML","templateCurrentWeather","jsTemp","querySelectorAll","forEach","el","temp","textContent","Math","round","render","alert","Handlebars","module","exports","template","container","depth0","helpers","partials","stack1","helper","alias1","nullContext","alias2","escapeExpression","alias3","lambda","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","hooks","helperMissing","program","noop"],"mappings":"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","file":"main.26bf98f89d21b3ca316a.js","sourcesContent":["export default {\r\n    searchCity: document.getElementById('searchCity'),\r\n    weatherBox: document.querySelector('.weather-box'),\r\n    searchBtn: document.querySelector('.searchBtn'),\r\n}","import refs from './refs'\r\n\r\n\r\n\r\n  let city = localStorage.getItem(\"city\");\r\n\r\n\r\nexport default {\r\n\r\n    query: `${city}`,\r\n    apiKey: 'ff8084d11c7279450a985d59a31a6700',\r\n\r\n    \r\n    geoLocation() {\r\n      const onGetPosition = location => {\r\n        console.log(location)\r\n        let latitude = location.coords.latitude;\r\n        let longitude = location.coords.longitude;\r\n        // console.log(latitude);\r\n      }\r\n      navigator.geolocation.getCurrentPosition(onGetPosition)\r\n    },\r\n\r\n\r\n    async fetchWeather() {\r\n        let url = `https://api.openweathermap.org/data/2.5/weather?q=${this.query}&units=metric&lang=ru&appid=${this.apiKey}`;\r\n        const response = await fetch(url);\r\n        \r\n        return response.json();\r\n      }\r\n}","import './sass/styles.scss';\r\nimport apiService from './js/apiService';\r\nimport refs from './js/refs';\r\nimport debounce from 'lodash.debounce';\r\nimport templateCurrentWeather from './templates/templateCurrentWeather.hbs';\r\n\r\n\r\nrefs.searchBtn.addEventListener('click', () => {\r\n    localStorage.removeItem(\"city\");\r\n    localStorage.setItem(\"city\", refs.searchCity.value);\r\n    location.href = location.href;\r\n  });\r\n\r\n\r\n  if (localStorage.getItem('city')) {\r\n\r\napiService.fetchWeather()\r\n.then(data => {console.log(data),\r\n    render({ data })\r\n})\r\n\r\n} else {\r\n    alert('Введите город')\r\n}\r\n\r\nfunction render (data) {\r\n   refs.weatherBox.innerHTML = `${templateCurrentWeather(data)}`;\r\n    const jsTemp = document.querySelectorAll('.js_temp');\r\n    console.log(jsTemp);\r\n    jsTemp.forEach(el => {\r\n        roundTemp(el.textContent)\r\n    })\r\n}\r\n\r\nfunction roundTemp (temp) {\r\n    console.log(Math.round(+temp));\r\n    \r\n}\r\n\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.escapeExpression, alias3=container.lambda, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"weather-city\\\">\"\n    + alias2(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":25},\"end\":{\"line\":2,\"column\":33}}}) : helper)))\n    + \"</h2>\\r\\n\\r\\n<div class=\\\"weather_item\\\">\\r\\n<p><span class=\\\"current-temp\\\"><span class=\\\"js_temp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp\") : stack1), depth0))\n    + \"</span>°</span></p>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"weather\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(2, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":0},\"end\":{\"line\":9,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"</div>\\r\\n\\r\\n<div class=\\\"info_additional\\\">\\r\\n\\r\\n    <div class=\\\"info_item\\\">\\r\\n        <div class=\\\"ii info_label\\\">\\r\\n            По ощущению: \\r\\n        </div>\\r\\n        <div class=\\\"ii info_value\\\">\\r\\n            <span class=\\\"js_temp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"feels_like\") : stack1), depth0))\n    + \"</span> C°\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"info_item\\\">\\r\\n        <div class=\\\"ii info_label\\\">\\r\\n            Мин. температура: \\r\\n        </div>\\r\\n        <div class=\\\"ii info_value\\\">\\r\\n            <span class=\\\"js_temp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp_min\") : stack1), depth0))\n    + \"</span> C°\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"info_item\\\">\\r\\n        <div class=\\\"ii info_label\\\">\\r\\n            Макс. температура: \\r\\n        </div>\\r\\n        <div class=\\\"ii info_value\\\">\\r\\n            <span class=\\\"js_temp\\\">\"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"main\") : depth0)) != null ? lookupProperty(stack1,\"temp_max\") : stack1), depth0))\n    + \"</span> C°\\r\\n        </div>\\r\\n    </div>\\r\\n\\r\\n        <div class=\\\"info_item\\\">\\r\\n        <div class=\\\"ii info_label\\\">\\r\\n            Ветер: \\r\\n        </div>\\r\\n        <div class=\\\"ii info_value\\\">\\r\\n            \"\n    + alias2(alias3(((stack1 = (depth0 != null ? lookupProperty(depth0,\"wind\") : depth0)) != null ? lookupProperty(stack1,\"speed\") : stack1), depth0))\n    + \" м/с\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\";\n},\"2\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<p><img src=\\\"https://openweathermap.org/img/w/\"\n    + alias1(((helper = (helper = lookupProperty(helpers,\"icon\") || (depth0 != null ? lookupProperty(depth0,\"icon\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"icon\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":46},\"end\":{\"line\":7,\"column\":54}}}) : helper)))\n    + \".png\\\" width=\\\"65\\\" height=\\\"auto\\\"></p>\\r\\n<p class=\\\"description\\\">\"\n    + alias1(container.lambda((depth0 != null ? lookupProperty(depth0,\"description\") : depth0), depth0))\n    + \"</p>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":50,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}