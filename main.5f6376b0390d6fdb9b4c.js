(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{QfWi:function(e,t,n){"use strict";n.r(t);n("RtS0"),n("3dw1"),n("yjly"),n("JBxO"),n("FdtR"),n("wcNg");var a={searchCity:document.getElementById("searchCity"),weatherBox:document.querySelector(".weather-box"),searchBtn:document.querySelector(".searchBtn"),locationBtn:document.querySelector(".location"),latitude:document.getElementById("latitude"),longitude:document.getElementById("longitude"),getMaps:document.querySelector(".getMaps")};function r(e,t,n,a,r,o,l){try{var i=e[o](l),c=i.value}catch(e){return void n(e)}i.done?t(c):Promise.resolve(c).then(a,r)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(a,o){var l=e.apply(t,n);function i(e){r(l,a,o,i,c,"next",e)}function c(e){r(l,a,o,i,c,"throw",e)}i(void 0)}))}}var l={query:""+localStorage.getItem("city"),apiKey:"ff8084d11c7279450a985d59a31a6700",geoLocation:function(){function e(){location.href=location.href}navigator.geolocation.getCurrentPosition((function(t){var n=t.coords.latitude,a=t.coords.longitude;localStorage.setItem("latitude",n),localStorage.setItem("longitude",a),e()}))},fetchWeatherByCity:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.openweathermap.org/data/2.5/weather?q="+e.query+"&units=metric&lang=ru&appid="+e.apiKey,t.next=3,fetch(n);case 3:return a=t.sent,t.abrupt("return",a.json());case 5:case"end":return t.stop()}}),t)})))()},fetchWeather:function(){var e=this;return o(regeneratorRuntime.mark((function t(){var n,a,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=localStorage.getItem("latitude"),a=localStorage.getItem("longitude"),r="https://api.openweathermap.org/data/2.5/weather?lat="+n+"&lon="+a+"&units=metric&lang=ru&appid="+e.apiKey,t.next=5,fetch(r);case 5:return o=t.sent,t.abrupt("return",o.json());case 7:case"end":return t.stop()}}),t)})))()}},i=(n("jffb"),n("TcGF")),c=n.n(i);function u(e){a.weatherBox.innerHTML=""+c()(e);var t=document.querySelectorAll(".js_temp");console.log(t),t.forEach((function(e){var t;t=e.textContent,Math.round(+t)}))}a.locationBtn.addEventListener("click",(function(){localStorage.removeItem("city"),l.geoLocation()})),a.searchBtn.addEventListener("click",(function(){localStorage.removeItem("city"),localStorage.setItem("city",a.searchCity.value),location.href=location.href})),localStorage.getItem("city")?l.fetchWeatherByCity().then((function(e){console.log(e),u({data:e})})):localStorage.getItem("latitude")?l.fetchWeather().then((function(e){console.log(e),u({data:e})})):console.log("Нет города"),localStorage.getItem("latitude")?a.latitude.value=localStorage.getItem("latitude"):a.latitude.value="",localStorage.getItem("longitude")?a.longitude.value=localStorage.getItem("longitude"):a.longitude.value="";a.getMaps.addEventListener("click",(function(e){console.log(e.target.href),e.target.href="https://www.google.com/maps/place/"+localStorage.getItem("latitude")+","+localStorage.getItem("longitude")}))},TcGF:function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({1:function(e,t,n,a,r){var o,l,i=null!=t?t:e.nullContext||{},c=e.escapeExpression,u=e.lambda,s=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<h2 class="weather-city">'+c("function"==typeof(l=null!=(l=s(n,"name")||(null!=t?s(t,"name"):t))?l:e.hooks.helperMissing)?l.call(i,{name:"name",hash:{},data:r,loc:{start:{line:2,column:25},end:{line:2,column:33}}}):l)+'</h2>\r\n\r\n<div class="weather_item">\r\n<p><span class="current-temp"><span class="js_temp">'+c(u(null!=(o=null!=t?s(t,"main"):t)?s(o,"temp"):o,t))+"</span>°</span></p>\r\n"+(null!=(o=s(n,"each").call(i,null!=t?s(t,"weather"):t,{name:"each",hash:{},fn:e.program(2,r,0),inverse:e.noop,data:r,loc:{start:{line:6,column:0},end:{line:9,column:9}}}))?o:"")+'</div>\r\n\r\n<div class="info_additional">\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            По ощущению: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(u(null!=(o=null!=t?s(t,"main"):t)?s(o,"feels_like"):o,t))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            Мин. температура: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(u(null!=(o=null!=t?s(t,"main"):t)?s(o,"temp_min"):o,t))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n    <div class="info_item">\r\n        <div class="ii info_label">\r\n            Макс. температура: \r\n        </div>\r\n        <div class="ii info_value">\r\n            <span class="js_temp">'+c(u(null!=(o=null!=t?s(t,"main"):t)?s(o,"temp_max"):o,t))+'</span> C°\r\n        </div>\r\n    </div>\r\n\r\n        <div class="info_item">\r\n        <div class="ii info_label">\r\n            Ветер: \r\n        </div>\r\n        <div class="ii info_value">\r\n            '+c(u(null!=(o=null!=t?s(t,"wind"):t)?s(o,"speed"):o,t))+" м/с\r\n        </div>\r\n    </div>\r\n</div>\r\n"},2:function(e,t,n,a,r){var o,l=e.escapeExpression,i=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<p><img src="https://openweathermap.org/img/w/'+l("function"==typeof(o=null!=(o=i(n,"icon")||(null!=t?i(t,"icon"):t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"icon",hash:{},data:r,loc:{start:{line:7,column:46},end:{line:7,column:54}}}):o)+'.png" width="65" height="auto"></p>\r\n<p class="description">'+l(e.lambda(null!=t?i(t,"description"):t,t))+"</p>\r\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,a,r){var o;return null!=(o=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,r,0),inverse:e.noop,data:r,loc:{start:{line:1,column:0},end:{line:50,column:9}}}))?o:""},useData:!0})},yjly:function(e,t,n){}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.5f6376b0390d6fdb9b4c.js.map